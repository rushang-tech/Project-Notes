<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- FIXED: Added user-scalable=no to prevent zooming/glitching on taps -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You üíå</title>
    
    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;800&family=Indie+Flower&display=swap" rel="stylesheet">
    
    <!-- ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --pink-dark: #ff5d8f;
            --pink-light: #ffc2d1;
            --paper-color: #fffdf0;
            --line-color: #a2d2ff;
            --text-color: #5a4b54;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            /* FIXED: 100dvh prevents vertical scrolling glitches on mobile */
            height: 100vh;
            height: 100dvh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffe5ec 0%, #ffc2d1 100%);
            font-family: 'Baloo 2', cursive;
            overflow: hidden;
            position: relative;
        }

        /* --- BACKGROUND CLOUDS --- */
        .cloud {
            position: absolute;
            color: rgba(255, 255, 255, 0.7);
            z-index: 0; 
            animation: floatCloud linear infinite;
        }
        @keyframes floatCloud { from { transform: translateX(-20vw); } to { transform: translateX(120vw); } }

        /* --- SCREEN 1: THE ENVELOPE --- */
        #envelope-screen {
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
        }
        
        .envelope-icon {
            font-size: 8rem;
            color: var(--pink-dark);
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.1));
        }

        .tap-text {
            font-family: 'Indie Flower', cursive;
            font-size: 2.2rem;
            color: var(--pink-dark);
            margin-top: 10px;
            font-weight: bold;
        }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* --- SCREEN 2: THE LETTER --- */
        #letter-screen {
            display: none; 
            position: absolute;
            width: 90%;
            max-width: 400px;
            /* FIXED: Better mobile height handling */
            height: 80vh;
            max-height: 800px;
            background: var(--paper-color);
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            overflow-y: auto; 
            padding: 30px;
            z-index: 20; 
            background-image: repeating-linear-gradient(var(--paper-color) 0px, var(--paper-color) 24px, var(--line-color) 25px);
            line-height: 25px;
            animation: slideUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #letter-screen::before {
            content: '';
            position: absolute;
            top: -10px; left: 50%; transform: translateX(-50%);
            width: 120px; height: 20px;
            background: rgba(255, 93, 143, 0.5);
            border-radius: 5px;
        }

        .handwritten {
            font-family: 'Indie Flower', cursive;
            font-size: 1.4rem;
            color: var(--text-color);
            line-height: 25px;
            margin-bottom: 40px;
        }

        .proposal-section {
            margin-top: 50px;
            text-align: center;
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 20px;
            border: 2px dashed var(--pink-dark);
        }

        .gif-container {
            width: 100%;
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        .gif-container img { width: 100%; height: 100%; object-fit: cover; }

        h2 { 
            font-family: 'Indie Flower', cursive;
            font-size: 1.8rem; 
            font-weight: bold;
            color: var(--pink-dark); 
            margin-bottom: 10px; 
        }

        .btn-group { display: flex; justify-content: center; gap: 15px; }

        button {
            border: none; padding: 10px 25px; border-radius: 50px;
            font-family: 'Baloo 2', cursive; font-size: 1.2rem; cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1); transition: 0.2s;
        }

        .btn-yes { background: var(--pink-dark); color: white; }
        .btn-no { background: white; color: var(--pink-dark); border: 2px solid var(--pink-light); }


        /* --- SCREEN 3: SUCCESS (FIXED MOBILE LAYOUT) --- */
        #success-screen {
            display: none; 
            /* FIXED: inset: 0 ensures it covers the full phone screen without scrolling */
            position: fixed; 
            inset: 0;
            z-index: 30; 
            
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            text-align: center;
            padding: 20px;
            
            background: transparent;
            animation: fadeIn 1s ease;
        }

        .photo-frame {
            /* FIXED: 160px is the safe sweet spot for all iPhones */
            width: 160px;
            height: 160px;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); 
            overflow: hidden;
            margin-bottom: 20px;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: white;
            flex-shrink: 0; /* Prevents image squishing */
        }

        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .success-title {
            font-family: 'Indie Flower', cursive;
            font-size: 2.5rem;
            color: var(--pink-dark); 
            font-weight: bold;
            margin-bottom: 15px;
            line-height: 1.1;
        }

        .success-message {
            font-family: 'Indie Flower', cursive;
            font-size: 1.5rem;
            color: var(--text-color); 
            font-weight: bold;
            line-height: 1.4;
            max-width: 90%;
        }

        @keyframes slideUp { from { transform: translateY(100vh); } to { transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }

    </style>
</head>
<body>

    <div id="clouds"></div>

    <div id="envelope-screen" onclick="openEnvelope()">
        <div class="envelope-icon"><i class="fa-solid fa-envelope-open-text"></i></div>
        <div class="tap-text">Hi Puku Baby! üíå</div>
        <div style="font-size: 1rem; color: #888; font-family: 'Baloo 2', cursive;">(Tap to open)</div>
    </div>

    <div id="letter-screen">
        <div class="handwritten">
            My Dearest Neha, <br><br>
            
            I hope the worlds best girlfriend is doing well. I've been waiting for this since days!
            Hi puntu, sorry for the trouble hehahaha, had to make sure you click the link so if you're reading this, timi mero tactics ko sikar bhaisakyou.
            <br><br>
            As we both know month of February is here. Although we are quite far from each other, I don't want you to miss anything out. I hope you're having fun there. 
            I'm also doing alright, of course I'm missing you a lot and thinking of my beautiful girl 24/7. 
            <br><br>
            I know 2026 hasn't been a super good start for you but since then I know you have grown a lot, you've done a lot of things to be where you currently are. 
            You are the absolute strongest baby in this whole world, and I'm super duper proud of you for bringing positivity and upgrading yourself.
            Although the journey hasn't ended but you're already looking good and hey if anything goes wrong I will always be right here beside you.<3
            <br><br>
            I wanted to ask you something special...
            <br><br>
        </div>

        <div class="proposal-section">
            <div class="gif-container">
                <!-- IMPORTANT: Make sure 'gif.gif' is in the folder -->
                <img id="main-img" src="images/gif.gif" alt="Cute GIF">
            </div>
            <h2>Will you be my Valentine?üíå</h2>
            <div class="btn-group">
                <button class="btn-yes" id="yesBtn">Yes! </button>
                <button class="btn-no" id="noBtn">No </button>
            </div>
        </div>
    </div>

    <div id="success-screen">
        <div class="photo-frame">
            <img id="couple-img" src="" alt="Couple Photo">
        </div>
        <h1 class="success-title">YAYYY!! Wohoooooüï∫üèª</h1>
        <p class="success-message">
            I am the luckiest boyfriend in the world! thanksyou bebe <br>
            Can't wait to see you, my sanu pokemon! üíñ
        </p>
    </div>

    <script>
        // --- CONFIGURATION ---
        
        // FIXED: Changed absolute path to relative filename.
        // Make sure "us.png" is in the same folder as this index.html file.
        const IMG_COUPLE = "images/us.png"; 

        const envelopeScreen = document.getElementById('envelope-screen');
        const letterScreen = document.getElementById('letter-screen');
        const successScreen = document.getElementById('success-screen');
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const mainImg = document.getElementById('main-img');
        const coupleImg = document.getElementById('couple-img');
        const cloudContainer = document.getElementById('clouds');

        // Set the couple photo initially
        coupleImg.src = IMG_COUPLE;

        function openEnvelope() {
            envelopeScreen.style.display = 'none';
            letterScreen.style.display = 'block';
            createClouds();
        }

        function createClouds() {
            for(let i=0; i<6; i++) {
                const cloud = document.createElement('i');
                cloud.className = 'fa-solid fa-cloud cloud';
                cloud.style.top = Math.random() * 100 + 'vh';
                cloud.style.left = Math.random() * 100 + 'vw';
                cloud.style.fontSize = (Math.random() * 40 + 40) + 'px';
                cloud.style.animationDuration = (Math.random() * 20 + 20) + 's';
                cloudContainer.appendChild(cloud);
            }
        }

        // Runaway Button Logic
        function moveButton() {
            // NOTE: Make sure "sad.jpg" exists in your folder!
            mainImg.src = "images/sad.jpg";
            
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            
            // Boundary checks to keep button on screen
            const safeX = Math.max(10, Math.min(x, window.innerWidth - noBtn.offsetWidth - 10));
            const safeY = Math.max(10, Math.min(y, window.innerHeight - noBtn.offsetHeight - 10));

            noBtn.style.position = 'fixed';
            noBtn.style.left = `${safeX}px`;
            noBtn.style.top = `${safeY}px`;
        }

        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('click', moveButton);

        // Success Action
        yesBtn.addEventListener('click', () => {
            letterScreen.style.display = 'none';
            successScreen.style.display = 'flex';
            launchConfetti();
        });

        function launchConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.innerText = 'üíñ';
                confetti.style.position = 'fixed';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10vh';
                confetti.style.fontSize = Math.random() * 20 + 10 + 'px';
                confetti.style.zIndex = '101';
                confetti.style.animation = `fall ${Math.random() * 2 + 2}s linear forwards`;
                confetti.style.pointerEvents = 'none';
                document.body.appendChild(confetti);
            }
            
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
            `;
            document.head.appendChild(style);
        }
    </script>
</body>
</html>